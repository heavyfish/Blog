<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/heavyfish.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/heavyfish.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/heavyfish.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/heavyfish.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/heavyfish.github.io/css/main.css">

</script>


<link rel="stylesheet" href="/heavyfish.github.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heavyfish.github.io","root":"/heavyfish.github.io/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="如题">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS7 单用户修改密码">
<meta property="og:url" content="https://heavyfish.github.io/2020/09/02/Linux/centos7%E5%8D%95%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/index.html">
<meta property="og:site_name" content="请问你能包养我吗">
<meta property="og:description" content="如题">
<meta property="og:locale">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223915573.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223924315.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223933100.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223939929.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223945824.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223952276.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223957638.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224002553.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224007673.png">
<meta property="og:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224012480.png">
<meta property="article:published_time" content="2020-09-02T15:50:21.586Z">
<meta property="article:modified_time" content="2021-01-20T14:41:19.282Z">
<meta property="article:author" content="Shenxr">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Linux故障">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223915573.png">

<link rel="canonical" href="https://heavyfish.github.io/2020/09/02/Linux/centos7%E5%8D%95%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>CentOS7 单用户修改密码 | 请问你能包养我吗</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/heavyfish.github.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">请问你能包养我吗</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/heavyfish.github.io/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/heavyfish.github.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/heavyfish.github.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://heavyfish.github.io/2020/09/02/Linux/centos7%E5%8D%95%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/heavyfish.github.io/images/avatar.gif">
      <meta itemprop="name" content="Shenxr">
      <meta itemprop="description" content="在被人包养前，记录学习笔记的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="请问你能包养我吗">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CentOS7 单用户修改密码
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-02 23:50:21" itemprop="dateCreated datePublished" datetime="2020-09-02T23:50:21+08:00">2020-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-20 22:41:19" itemprop="dateModified" datetime="2021-01-20T22:41:19+08:00">2021-01-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/heavyfish.github.io/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>如题</p>
<a id="more"></a>

<h2 id="1-Power-up-reboot"><a href="#1-Power-up-reboot" class="headerlink" title="1. Power up / reboot"></a>1. Power up / reboot</h2><p>The first step is to power up or reboot the system and edit the grub2 parameters. Timing here is critical. You must press ‘e’ before the menu times out and boots normally.<br><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223915573.png" alt="image-20210120223915573"></p>
<h2 id="2-Linux16"><a href="#2-Linux16" class="headerlink" title="2. Linux16"></a>2. Linux16</h2><p>Look for a line that mentions <strong>linux16</strong> (or <strong>linuxefi</strong> if you are using UEFI bios). You may need to use the arrow keys to scroll down. At the end of the linux16 or linuxefi line, find and replace the <strong>rhgb</strong> <strong>quiet</strong> parameters with <strong>rd.break</strong> <strong>enforcing=0</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223924315.png" alt="image-20210120223924315"></p>
<h2 id="3-Start-boot-process"><a href="#3-Start-boot-process" class="headerlink" title="3. Start boot process"></a>3. Start boot process</h2><p>Once you have edited the parameters accordingly, hit CTRL-X to start the boot process with the new parameters. The system should boot into the root system.</p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223933100.png" alt="image-20210120223933100"></p>
<h2 id="4-Remount-as-read-write"><a href="#4-Remount-as-read-write" class="headerlink" title="4. Remount as read/write"></a>4. Remount as read/write</h2><p>Enter the following command to remount the sysroot filesystem as read/write: <strong>mount -o remount,rw /sysroot</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223939929.png" alt="image-20210120223939929"></p>
<h2 id="5-chroot-into-sysroot"><a href="#5-chroot-into-sysroot" class="headerlink" title="5. chroot into sysroot"></a>5. chroot into sysroot</h2><p>Now we chroot into the sysroot, using the following command: <strong>chroot /sysroot</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223945824.png" alt="image-20210120223945824"></p>
<h2 id="6-Change-the-password"><a href="#6-Change-the-password" class="headerlink" title="6. Change the password"></a>6. Change the password</h2><p>We can use the <strong>passwd</strong> command to change the root password.<br><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223952276.png" alt="image-20210120223952276"></p>
<h2 id="7-Return-to-switch-root"><a href="#7-Return-to-switch-root" class="headerlink" title="7. Return to switch_root"></a>7. Return to switch_root</h2><p>Issue the following command to bring us back to the switch_root:/# prompt: <strong>exit</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120223957638.png" alt="image-20210120223957638"></p>
<h2 id="8-Remount-to-read-only"><a href="#8-Remount-to-read-only" class="headerlink" title="8. Remount to read-only"></a>8. Remount to read-only</h2><p>Enter the following command to remount the sysroot filesystem as read-only once again: <strong>mount -o remount,ro /sysroot</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224002553.png" alt="image-20210120224002553"></p>
<h2 id="9-Exit-the-session"><a href="#9-Exit-the-session" class="headerlink" title="9. Exit the session"></a>9. Exit the session</h2><p>Now we can exit the session and allow the system to reboot using the following command: <strong>exit</strong></p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224007673.png" alt="image-20210120224007673"></p>
<h2 id="10-Boot-and-login"><a href="#10-Boot-and-login" class="headerlink" title="10. Boot and login"></a>10. Boot and login</h2><p>Allow the system to boot normally and login as root using the new password that you set in step 6.</p>
<p><img src="https://image-1303893285.cos.ap-shanghai.myqcloud.com/image/image-20210120224012480.png" alt="image-20210120224012480"></p>
<h2 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h2><p><a target="_blank" rel="noopener" href="https://spr.com/password-recovery-for-rhel-centos-7-linux/">12 Steps to Password Recovery for RHEL, CentOS 7 Linux</a></p>
<p>注：链接中还有 11、12步，但这是针对selinux的，可以不用做</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/heavyfish.github.io/tags/Linux/" rel="tag"># Linux</a>
              <a href="/heavyfish.github.io/tags/Linux%E6%95%85%E9%9A%9C/" rel="tag"># Linux故障</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/heavyfish.github.io/2020/06/07/OpenStack/P%E7%89%88%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" rel="prev" title="OpenStack-P版 配置文件参考">
      <i class="fa fa-chevron-left"></i> OpenStack-P版 配置文件参考
    </a></div>
      <div class="post-nav-item">
    <a href="/heavyfish.github.io/2020/09/03/python/%E5%85%A8%E5%B1%80%E8%A7%A3%E6%9E%90%E9%94%81%EF%BC%88GIL%EF%BC%89/" rel="next" title="全局解析锁（GIL）">
      全局解析锁（GIL） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Power-up-reboot"><span class="nav-text">1. Power up &#x2F; reboot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Linux16"><span class="nav-text">2. Linux16</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Start-boot-process"><span class="nav-text">3. Start boot process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Remount-as-read-write"><span class="nav-text">4. Remount as read&#x2F;write</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-chroot-into-sysroot"><span class="nav-text">5. chroot into sysroot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Change-the-password"><span class="nav-text">6. Change the password</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Return-to-switch-root"><span class="nav-text">7. Return to switch_root</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-Remount-to-read-only"><span class="nav-text">8. Remount to read-only</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Exit-the-session"><span class="nav-text">9. Exit the session</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-Boot-and-login"><span class="nav-text">10. Boot and login</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E6%96%87%E9%93%BE%E6%8E%A5"><span class="nav-text">原文链接</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Shenxr"
      src="/heavyfish.github.io/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Shenxr</p>
  <div class="site-description" itemprop="description">在被人包养前，记录学习笔记的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/heavyfish.github.io/archives">
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/heavyfish.github.io/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/heavyfish.github.io/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shenxr</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">422k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">6:24</span>
</div>
<!--  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/heavyfish.github.io/lib/anime.min.js"></script>
  <script src="/heavyfish.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/heavyfish.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/heavyfish.github.io/js/utils.js"></script>

<script src="/heavyfish.github.io/js/motion.js"></script>


<script src="/heavyfish.github.io/js/schemes/pisces.js"></script>


<script src="/heavyfish.github.io/js/next-boot.js"></script>


  <script defer src="/heavyfish.github.io/lib/three/three.min.js"></script>
    <script defer src="/heavyfish.github.io/lib/three/canvas_lines.min.js"></script>
    <script defer src="/heavyfish.github.io/lib/three/canvas_sphere.min.js"></script>


  















  

  

<script src="/heavyfish.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/heavyfish.github.io/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":100,"height":250,"hOffset":-7,"vOffset":30},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
